<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Gestion entreprises</title>
        {% load static %}
    </head>

    <header>
        {% include '00_Layout/header.html' %}
    </header>

    <body>
        <div style="margin-left: 2%; margin-top: 8%; margin-right: 2%; padding-bottom: 5%">
            <h1><img width="50px" src="{% static 'image/entreprise/batiment.png' %}"> Gérer mes entreprise</h1>


            <!--<p>Ajouter TOOLTIP</p>-->
            <div style="margin-top: 3%; display: block; margin-left: auto; margin-right: auto;">
                <button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#modal_add_ets">Ajouter une entreprise</button>
            </div>
        </div>

        {% if len_entreprises == 0 %}
            <div style="margin-top: 2%; margin-left: 2%; padding-bottom: 50%">
                <p style="color: red">Vous n'avez aucun élément</p>
            </div>
        {% else %}
                <div style="width:95%; padding-left:3% ;padding-right:3%; padding-bottom: 20%">
                    <table class="table table-hover" width="50%" style="text-align: center">
                        <thead>
                        <tr>
                            <th scope="col">Logo</th>
                            <th scope="col">Nom</th>
                            <th scope="col">Secteur</th>
                            <th scope="col">Devise</th>
                            <th scope="col">Nombre de places</th>
                            <th scope="col">Modifier</th>
                            <th scope="col">Supprimer</th>
                            <th scope="col">Accéder</th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for entreprise in entreprises %}
                            <tr>
                                <td><img style="width: 73px;" src="{{ entreprise.logo_ets }}" class="img-fluid"></td>
                                <td>{{ entreprise.nom_ets }}</td>
                                <td>{{ entreprise.secteur }}</td>
                                <td>{{ entreprise.nom_devise }}</td>
                                <td>{{ entreprise.nb_places }}</td>
                                <td>
                                    <a href="update_entreprise/{{ entreprise.id }}"><button type="button" class="btn btn-warning" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Modifier"><ion-icon name="create-outline"></ion-icon></button></a>
                                </td>
                                <td>
                                    <a href="masquer_entreprise/{{ entreprise.id }}"><button type="button" class="btn btn-danger" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Supprimer"><ion-icon name="trash-outline"></ion-icon></button></a>
                                </td>
                                <td><a href="manage_menu/{{ entreprise.id }}"><button type="button" class="btn btn-outline-dark"><ion-icon name="eye-outline"></ion-icon> Acceder</button></a></td>
                        {% endfor %}

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        {% endif %}
    </body>

    <footer>
        {% include '00_Layout/footer2.html' %}
    </footer>

</html>

<!------ BUTTONS : Trigger Modal ------>
    <div class="modal fade" id="modal_add_ets" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Ajouter une entreprise</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        {% include '06_QRCODE/03_Create/add_ets.html' %}
                    </div>
                </div>
            </div>
        </div>